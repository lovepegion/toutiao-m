{"version":3,"sources":["webpack:///./src/views/vedioplay/VedioPlay.vue?5eda","webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./src/api/mv.js","webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./src/api/vedio.js","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js","webpack:///./src/api/user.js","webpack:///./src/api/singers.js","webpack:///./src/views/vedioplay/VedioPlay.vue?1b98","webpack:///src/views/vedioplay/VedioPlay.vue","webpack:///./src/views/vedioplay/VedioPlay.vue?92c6","webpack:///./src/views/vedioplay/VedioPlay.vue"],"names":["toInteger","toString","requireObjectCoercible","module","exports","count","str","this","result","n","Infinity","RangeError","getHotMvs","query","request","method","url","limit","offset","getSortMvs","area","type","order","getMvUrl","id","getMvInfo","mvid","valueOf","value","call","getVedioUrl","getGroupVedio","getVedioInfo","vid","$","thisNumberValue","repeat","fails","nativeToFixed","toFixed","floor","Math","pow","x","acc","log","x2","multiply","data","c","index","c2","divide","dataToString","s","t","String","length","FORCED","target","proto","forced","fractionDigits","e","z","j","k","number","fractDigits","sign","slice","checkPhone","phone","getCaptcha","checkCaptcha","captcha","sendRegister","password","nickname","login","getUserDetail","uid","getUserfollows","putComment","content","getSingersSearch","initial","getSingerDetail","getAllSongs","getSingerAlbums","getSingerMVs","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$router","back","onMore","slot","ref","playPause","playurl","_v","_e","showPlay","$refs","vedioplay","play","directives","name","rawName","expression","vedioDuration","domProps","currentTime","userPhoto","_s","userName","title","_f","detailInfo","likedCount","commentCount","shareCount","staticRenderFns","props","filters","shortCount","methods","vedioplayer","paused","pause","onDuration","setTimeout","console","mounted","onVedioUrl","onUserInfo","onVedioInfo","onMvUrl","onSingerInfo","onMvInfo","component"],"mappings":"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","file":"js/chunk-4afb6eef.6562588a.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VedioPlay.vue?vue&type=style&index=0&id=6c94fabc&scoped=true&lang=less&\"","'use strict';\nvar toInteger = require('../internals/to-integer');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = function repeat(count) {\n  var str = toString(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","/**\r\n * 歌单相关请求模块\r\n */\r\nimport request from '@/utils/request'\r\n\r\n/**\r\n * 获取网易出品推荐推荐mv\r\n */\r\nexport const getHotMvs = query => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/mv/exclusive/rcmd?limit=${query.limit}&offset=${query.offset}`\r\n  })\r\n}\r\n\r\n/**\r\n * 获取mv分类搜索\r\n */\r\nexport const getSortMvs = query => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/mv/all?limit=${query.limit}&offset=${query.offset}&area=${query.area}&type=${query.type}&order=${query.order}`\r\n  })\r\n}\r\n\r\n/**\r\n * 获取mv播放地址\r\n */\r\nexport const getMvUrl = id => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/mv/url?id=${id}`\r\n  })\r\n}\r\n\r\n/**\r\n * 获取mv点赞、转发、评论\r\n */\r\nexport const getMvInfo = mvid => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/mv/detail/info?mvid=${mvid}`\r\n  })\r\n}\r\n","var valueOf = 1.0.valueOf;\n\n// `thisNumberValue` abstract operation\n// https://tc39.es/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  return valueOf.call(value);\n};\n","/**\r\n * 视频相关请求模块\r\n */\r\nimport request from '@/utils/request'\r\n\r\n/**\r\n  * 获取视频播放地址\r\n  */\r\nexport const getVedioUrl = id => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/video/url?id=${id}`\r\n  })\r\n}\r\n\r\n/**\r\n  * 获取视频分类列表\r\n  */\r\nexport const getVedioGroup = () => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/video/group/list'\r\n  })\r\n}\r\n\r\n/**\r\n  * 获取视频标签下的视频\r\n  */\r\nexport const getGroupVedio = query => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/video/group?id=${query.id}&offset=${query.offset}`\r\n  })\r\n}\r\n\r\n/**\r\n  * 获取视频点赞、转发、评论等\r\n  */\r\nexport const getVedioInfo = vid => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/video/detail/info?vid=${vid}`\r\n  })\r\n}\r\n","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","import request from '@/utils/request'\r\n// import store from '@/store/' // 非组件实例中获取store\r\n\r\n// 检查手机是否已经注册\r\nexport const checkPhone = phone => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/cellphone/existence/check?phone=${phone}`\r\n  })\r\n}\r\n\r\n// 发送验证码\r\nexport const getCaptcha = phone => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/captcha/sent?phone=${phone}`\r\n  })\r\n}\r\n\r\n// 校验验证码是否正确\r\nexport const checkCaptcha = query => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/captcha/verify?phone=${query.phone}&captcha=${query.captcha}`\r\n  })\r\n}\r\n\r\n// 请求注册\r\nexport const sendRegister = query => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/register/cellphone?phone=${query.phone}&password=${query.password}&captcha=${query.captcha}&nickname=${query.nickname}`\r\n  })\r\n}\r\n\r\n// 登录\r\nexport const login = query => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/login/cellphone?phone=${query.phone}&password=${query.password}`\r\n  })\r\n}\r\n\r\n// 退出\r\nexport const loginOut = () => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/logout'\r\n  })\r\n}\r\n\r\n// 获取用户详情\r\nexport const getUserDetail = uid => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/user/detail?uid=${uid}`\r\n  })\r\n}\r\n\r\n// 获取用户关注列表\r\nexport const getUserfollows = uid => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/user/follows?uid=${uid}`\r\n  })\r\n}\r\n\r\n// 发表评论\r\nexport const putComment = query => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/comment?t=${query.t}&type=${query.type}&id=${query.id}&content=${query.content}`\r\n  })\r\n}\r\n","/**\r\n * 歌手相关请求模块\r\n */\r\nimport request from '@/utils/request'\r\n\r\n/**\r\n  * 获取每日推荐歌曲\r\n  */\r\nexport const getSingersSearch = query => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/artist/list?limit=${query.limit}&offset=${query.offset}&type=${query.type}&area=${query.area}&initial=${query.initial}`\r\n  })\r\n}\r\n\r\n/**\r\n  * 获取歌手详情\r\n  */\r\nexport const getSingerDetail = id => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/artist/detail?id=${id}`\r\n  })\r\n}\r\n\r\n/**\r\n  * 获取歌手单曲50首\r\n  */\r\nexport const getSingerSongs = id => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/artists?id=${id}`\r\n  })\r\n}\r\n\r\n/**\r\n  * 获取歌手全部歌曲\r\n  */\r\nexport const getAllSongs = query => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/artist/songs?id=${query.id}&order=${query.order}&limit=${query.limit}&offset=${query.offset}`\r\n  })\r\n}\r\n\r\n/**\r\n  * 获取歌手专辑\r\n  */\r\nexport const getSingerAlbums = query => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/artist/album?id=${query.id}&limit=${query.limit}&offset=${query.offset}`\r\n  })\r\n}\r\n\r\n/**\r\n  * 获取歌手mv\r\n  */\r\nexport const getSingerMVs = id => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/artist/mv?id=${id}`\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vedioplaywrap\"},[_c('van-nav-bar',{attrs:{\"border\":false},on:{\"click-left\":function($event){return _vm.$router.back()},\"click-right\":_vm.onMore}},[_c('van-icon',{attrs:{\"slot\":\"left\",\"class-prefix\":\"toutiao\",\"name\":\"xitongfanhui\",\"size\":\"0.8rem\"},slot:\"left\"}),_c('van-icon',{attrs:{\"slot\":\"right\",\"class-prefix\":\"toutiao\",\"name\":\"gengduo-shuxiang\",\"size\":\"0.8rem\"},slot:\"right\"})],1),(_vm.playurl)?_c('video',{ref:\"vedioplay\",staticClass:\"t2_cover\",on:{\"click\":_vm.playPause}},[_c('source',{attrs:{\"src\":_vm.playurl,\"type\":\"video/mp4\"}}),_c('source',{attrs:{\"src\":_vm.playurl,\"type\":\"video/ogg\"}}),_vm._v(\" 您的浏览器不支持 HTML5 video 标签。 \")]):_vm._e(),(_vm.showPlay)?_c('div',{staticClass:\"t2_1_wrap\",on:{\"click\":function($event){_vm.showPlay=false;_vm.$refs.vedioplay.play()}}},[_c('van-icon',{attrs:{\"class-prefix\":\"toutiao\",\"name\":\"bofang\",\"size\":\"1rem\"}})],1):_vm._e(),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentTime),expression:\"currentTime\"}],staticClass:\"t3_bar\",attrs:{\"type\":\"range\",\"min\":\"0\",\"max\":_vm.vedioDuration},domProps:{\"value\":(_vm.currentTime)},on:{\"change\":function($event){_vm.$refs.vedioplay.currentTime=_vm.currentTime},\"__r\":function($event){_vm.currentTime=$event.target.value}}}),_c('div',{staticClass:\"t4_wrap\"},[_c('div',{staticClass:\"photo_name\"},[_c('van-image',{attrs:{\"width\":\"1rem\",\"height\":\"1rem\",\"fit\":\"cover\",\"round\":\"\",\"src\":_vm.userPhoto}}),_c('span',{staticClass:\"t4_1_2_name\"},[_vm._v(_vm._s(_vm.userName))]),_c('van-icon',{attrs:{\"name\":\"plus\",\"size\":\"0.4rem\",\"color\":\"orange\"}})],1),_c('div',[_vm._v(_vm._s(_vm.title))])]),_c('div',{staticClass:\"t5_wrap\"},[_c('div',{staticClass:\"t5_1_like\"},[_c('van-icon',{attrs:{\"class-prefix\":\"toutiao\",\"name\":\"dianzan_kuai\",\"size\":\"0.8rem\"}}),_c('span',[_vm._v(_vm._s(_vm._f(\"shortCount\")(_vm.detailInfo.likedCount)))])],1),_c('div',{staticClass:\"t5_2_comment\"},[_c('van-icon',{attrs:{\"class-prefix\":\"toutiao\",\"name\":\"pinglun1\",\"size\":\"0.8rem\"}}),_c('span',[_vm._v(_vm._s(_vm._f(\"shortCount\")(_vm.detailInfo.commentCount)))])],1),_c('div',{staticClass:\"t5_3_share\"},[_c('van-icon',{attrs:{\"name\":\"share\",\"size\":\"0.8rem\"}}),_c('span',[_vm._v(_vm._s(_vm._f(\"shortCount\")(_vm.detailInfo.shareCount)))])],1),_c('van-icon',{attrs:{\"class-prefix\":\"toutiao\",\"name\":\"shoucangjia\",\"size\":\"0.8rem\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"vedioplaywrap\">\r\n    <!-- 1顶部返回区 -->\r\n    <van-nav-bar\r\n      :border=\"false\"\r\n      @click-left=\"$router.back()\"\r\n      @click-right=\"onMore\"\r\n    >\r\n      <van-icon slot=\"left\" class-prefix=\"toutiao\" name=\"xitongfanhui\" size=\"0.8rem\"></van-icon>\r\n      <van-icon slot=\"right\" class-prefix=\"toutiao\" name=\"gengduo-shuxiang\" size=\"0.8rem\"></van-icon>\r\n    </van-nav-bar>\r\n    <!-- 2播放视频 -->\r\n    <video class=\"t2_cover\" v-if=\"playurl\" ref=\"vedioplay\" @click=\"playPause\">\r\n      <source :src=\"playurl\" type=\"video/mp4\">\r\n      <source :src=\"playurl\" type=\"video/ogg\">\r\n      您的浏览器不支持 HTML5 video 标签。\r\n    </video>\r\n    <!-- 2_1继续播放按钮 -->\r\n    <div class=\"t2_1_wrap\" @click=\"showPlay=false;$refs.vedioplay.play()\" v-if=\"showPlay\">\r\n      <van-icon class-prefix=\"toutiao\" name=\"bofang\" size=\"1rem\"></van-icon>\r\n    </div>\r\n    <!-- 3视频进度条 -->\r\n    <input type=\"range\" min=\"0\" :max=\"vedioDuration\" v-model=\"currentTime\" class=\"t3_bar\" @change=\"$refs.vedioplay.currentTime=currentTime\">\r\n    <!-- 4作者和视频标题 -->\r\n    <div class=\"t4_wrap\">\r\n      <!-- 4_1头像和名字 -->\r\n      <div class=\"photo_name\">\r\n        <!-- 4_1_1头像 -->\r\n        <van-image\r\n          width=\"1rem\"\r\n          height=\"1rem\"\r\n          fit=\"cover\"\r\n          round\r\n          :src=\"userPhoto\"\r\n        />\r\n        <!-- 4_1_2名字 -->\r\n        <span class=\"t4_1_2_name\">{{userName}}</span>\r\n        <!-- 4_1_3关注 -->\r\n        <van-icon name=\"plus\" size=\"0.4rem\" color=\"orange\"></van-icon>\r\n      </div>\r\n      <!-- 4_3视频标题 -->\r\n      <div>{{title}}</div>\r\n    </div>\r\n    <!-- 5点赞评论分享收藏 -->\r\n    <div class=\"t5_wrap\">\r\n      <!-- 5_1点赞 -->\r\n      <div class=\"t5_1_like\">\r\n        <van-icon class-prefix=\"toutiao\" name=\"dianzan_kuai\" size=\"0.8rem\"></van-icon>\r\n        <span>{{detailInfo.likedCount | shortCount}}</span>\r\n      </div>\r\n      <!-- 5_2评论 -->\r\n      <div class=\"t5_2_comment\">\r\n        <van-icon class-prefix=\"toutiao\" name=\"pinglun1\" size=\"0.8rem\"></van-icon>\r\n        <span>{{detailInfo.commentCount | shortCount}}</span>\r\n      </div>\r\n      <!-- 5_3分享 -->\r\n      <div class=\"t5_3_share\">\r\n        <van-icon name=\"share\" size=\"0.8rem\"></van-icon>\r\n        <span>{{detailInfo.shareCount | shortCount}}</span>\r\n      </div>\r\n      <!-- 5_4收藏 -->\r\n      <van-icon class-prefix=\"toutiao\" name=\"shoucangjia\" size=\"0.8rem\"></van-icon>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getVedioInfo, getVedioUrl } from '@/api/vedio.js'\r\nimport { getMvUrl, getMvInfo } from '@/api/mv.js'\r\nimport { getUserDetail } from '@/api/user.js'\r\nimport { getSingerDetail } from '@/api/singers.js'\r\nexport default {\r\n  name: 'VedioPlay',\r\n  props: ['type', 'vid', 'uid', 'title'],\r\n  data () {\r\n    return {\r\n      playurl: '', // 播放地址\r\n      userPhoto: '', // 用户头像\r\n      userName: '', // 用户姓名\r\n      showPlay: true, // 暂停时显示视频中的播放按钮\r\n      vedioDuration: 0, // 播放时长\r\n      currentTime: 0, // 当前播放时间\r\n      detailInfo: '' // 点赞、评论、分享数量\r\n    }\r\n  },\r\n  filters: {\r\n    shortCount (value) {\r\n      if (value >= 10000) {\r\n        return (value / 10000).toFixed(1) + '万'\r\n      } else {\r\n        return value\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 顶部点击展示更多\r\n    onMore () {},\r\n    // 获取点赞、评论、分享数量\r\n    async onVedioInfo () {\r\n      const { data } = await getVedioInfo(this.vid)\r\n      this.detailInfo = data\r\n    },\r\n    async onMvInfo () {\r\n      const { data } = await getMvInfo(this.vid)\r\n      this.detailInfo = data\r\n    },\r\n    // 获取视频播放地址\r\n    async onVedioUrl () {\r\n      const { data } = await getVedioUrl(this.vid)\r\n      this.playurl = data.urls[0].url\r\n    },\r\n    // 获取mv播放地址\r\n    async onMvUrl () {\r\n      const { data } = await getMvUrl(this.vid)\r\n      this.playurl = data.data.url\r\n    },\r\n    // 获取用户信息\r\n    async onUserInfo () {\r\n      const { data } = await getUserDetail(this.uid)\r\n      this.userPhoto = data.profile.avatarUrl\r\n      this.userName = data.profile.nickname\r\n    },\r\n    // 获取歌手信息\r\n    async onSingerInfo () {\r\n      const { data } = await getSingerDetail(this.uid)\r\n      this.userPhoto = data.data.artist.cover\r\n      this.userName = data.data.artist.name\r\n    },\r\n    // 点击视频暂停或继续播放\r\n    playPause () {\r\n      const vedioplayer = this.$refs.vedioplay\r\n      if (vedioplayer.paused) {\r\n        vedioplayer.play()\r\n        this.showPlay = false\r\n      } else {\r\n        vedioplayer.pause()\r\n        this.showPlay = true\r\n      }\r\n    },\r\n    // 获取视频时长,延迟获取，视频ref加载延后，不知道是为什么\r\n    onDuration () {\r\n      setTimeout(() => {\r\n        this.vedioDuration = this.$refs.vedioplay.duration\r\n        console.log('duration', this.vedioDuration)\r\n      }, 600)\r\n    }\r\n  },\r\n  mounted () {\r\n    if (this.type === '0') {\r\n      this.onVedioUrl() // type是0，视频url\r\n      this.onUserInfo() // 作者信息\r\n      this.onVedioInfo() // 存储点赞评论分享数量\r\n    } else {\r\n      this.onMvUrl() // type是1，获取mv的播放地址\r\n      this.onSingerInfo()\r\n      this.onMvInfo()\r\n    }\r\n    this.onDuration() // 存储视频时长\r\n    // 延迟监控视频的时长变化，因为视频ref挂载延后，不知道是为什么\r\n    setTimeout(() => {\r\n      this.$refs.vedioplay.ontimeupdate = () => {\r\n        this.currentTime = this.$refs.vedioplay.currentTime\r\n      }\r\n    }, 1000)\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.vedioplaywrap {\r\n  height: 667px;\r\n  background-color: black;\r\n  color: #fff;\r\n}\r\n// 1顶部返回区\r\n.van-nav-bar { // van-var外层wrap\r\n  background-color: black;\r\n}\r\n/* 播放视频 */\r\n.t2_cover {\r\n  margin-top: 70px;\r\n  width: 100%;\r\n  object-fit: cover;\r\n  border-radius: 10px;\r\n}\r\n// 2_1继续播放按钮\r\n.t2_1_wrap {\r\n  opacity: 0.5;\r\n  position: absolute;\r\n  top: 220px;\r\n  left: 170px;\r\n}\r\n// 3视频进度条\r\n.t3_bar {\r\n  -webkit-appearance: none;\r\n  margin-top: 20px;\r\n  margin-left: 3px;\r\n  background-color: rgb(149, 149, 149);\r\n  width: 98%;\r\n  -webkit-appearance: none;\r\n  height:2px;\r\n  padding: 0;\r\n  border: none;\r\n}\r\n.t3_bar::-webkit-slider-thumb {\r\n    -webkit-appearance: none;\r\n    height: 10px;\r\n    width: 10px;\r\n    border-radius: 5px;\r\n    background: #ccc;\r\n    border: solid 0.125em rgba(205, 224, 230, 0.5); /*设置边框*/\r\n    box-shadow: 0 .125em .125em #3b4547; /*添加底部阴影*/\r\n}\r\n// 4作者和视频标题\r\n.t4_wrap {\r\n  margin-top: 80px;\r\n  padding-left: 20px;\r\n  font-size: 14px;\r\n  width: 240px;\r\n  // 4_1头像和名字\r\n  .photo_name {\r\n    margin-bottom: 10px;\r\n    display: flex;\r\n    align-items: center;\r\n    // 4_1_2名字\r\n    .t4_1_2_name {\r\n      margin: 0 5px;\r\n    }\r\n  }\r\n}\r\n// 5点赞评论分享收藏\r\n.t5_wrap {\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: absolute;\r\n  top: 370px;\r\n  right: 20px;\r\n  // 5_1点赞,5_2评论，5_3分享\r\n  .t5_1_like, .t5_2_comment, .t5_3_share {\r\n    font-size: 12px;\r\n    margin-bottom: 20px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VedioPlay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VedioPlay.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VedioPlay.vue?vue&type=template&id=6c94fabc&scoped=true&\"\nimport script from \"./VedioPlay.vue?vue&type=script&lang=js&\"\nexport * from \"./VedioPlay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VedioPlay.vue?vue&type=style&index=0&id=6c94fabc&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c94fabc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}