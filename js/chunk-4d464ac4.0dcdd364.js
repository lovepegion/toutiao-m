(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d464ac4"],{"054b":function(t,e,n){"use strict";n("a11d")},"102f":function(t,e,n){"use strict";n("914c")},"132f":function(t,e,n){"use strict";n("3133")},"189b":function(t,e,n){"use strict";n("2a61")},"1cf0":function(t,e,n){},"250d":function(t,e,n){},2597:function(t,e,n){"use strict";n("8bb4")},"2a61":function(t,e,n){},3133:function(t,e,n){},"319d":function(t,e,n){"use strict";n("1cf0")},"422e":function(t,e,n){"use strict";n("aad7")},"4d63":function(t,e,n){var r=n("83ab"),s=n("da84"),a=n("94ca"),o=n("7156"),i=n("9112"),c=n("9bf2").f,l=n("241c").f,u=n("44e7"),f=n("577e"),d=n("ad6d"),h=n("9f7f"),p=n("6eeb"),m=n("d039"),v=n("5135"),g=n("69f3").enforce,b=n("2626"),y=n("b622"),x=n("fce3"),_=n("107c"),T=y("match"),w=s.RegExp,S=w.prototype,k=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,C=/a/g,R=/a/g,j=new w(C)!==C,O=h.UNSUPPORTED_Y,I=r&&(!j||O||x||_||m((function(){return R[T]=!1,w(C)!=C||w(R)==R||"/a/i"!=w(C,"i")}))),$=function(t){for(var e,n=t.length,r=0,s="",a=!1;r<=n;r++)e=t.charAt(r),"\\"!==e?a||"."!==e?("["===e?a=!0:"]"===e&&(a=!1),s+=e):s+="[\\s\\S]":s+=e+t.charAt(++r);return s},E=function(t){for(var e,n=t.length,r=0,s="",a=[],o={},i=!1,c=!1,l=0,u="";r<=n;r++){if(e=t.charAt(r),"\\"===e)e+=t.charAt(++r);else if("]"===e)i=!1;else if(!i)switch(!0){case"["===e:i=!0;break;case"("===e:k.test(t.slice(r+1))&&(r+=2,c=!0),s+=e,l++;continue;case">"===e&&c:if(""===u||v(o,u))throw new SyntaxError("Invalid capture group name");o[u]=!0,a.push([u,l]),c=!1,u="";continue}c?u+=e:s+=e}return[s,a]};if(a("RegExp",I)){for(var L=function(t,e){var n,r,s,a,c,l,h=this instanceof L,p=u(t),m=void 0===e,v=[],b=t;if(!h&&p&&m&&t.constructor===L)return t;if((p||t instanceof L)&&(t=t.source,m&&(e="flags"in b?b.flags:d.call(b))),t=void 0===t?"":f(t),e=void 0===e?"":f(e),b=t,x&&"dotAll"in C&&(r=!!e&&e.indexOf("s")>-1,r&&(e=e.replace(/s/g,""))),n=e,O&&"sticky"in C&&(s=!!e&&e.indexOf("y")>-1,s&&(e=e.replace(/y/g,""))),_&&(a=E(t),t=a[0],v=a[1]),c=o(w(t,e),h?this:S,L),(r||s||v.length)&&(l=g(c),r&&(l.dotAll=!0,l.raw=L($(t),n)),s&&(l.sticky=!0),v.length&&(l.groups=v)),t!==b)try{i(c,"source",""===b?"(?:)":b)}catch(y){}return c},U=function(t){t in L||c(L,t,{configurable:!0,get:function(){return w[t]},set:function(e){w[t]=e}})},N=l(w),P=0;N.length>P;)U(N[P++]);S.constructor=L,L.prototype=S,p(s,"RegExp",L)}b("RegExp")},"509f":function(t,e,n){},"5e6a":function(t,e,n){"use strict";n("250d")},"64b0":function(t,e,n){"use strict";n("c542")},"6bbb":function(t,e,n){"use strict";n("509f")},"6e08":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"HotClassifyItem-wrap"},[n("van-cell",{attrs:{mymark:""}},[n("div",{staticClass:"t1_icon",attrs:{slot:"icon"},slot:"icon"},[n("van-image",{attrs:{src:t.radioDetail.picUrl,width:"3.2rem",height:"3.2rem"}}),n("div",{staticClass:"t1_icon_playcount"},[n("van-icon",{attrs:{"class-prefix":"toutiao",name:"24gl-play",color:"#ffffff",size:"0.2rem"}}),n("span",[t._v(t._s(t._f("shortCount")(t.radioDetail.playCount)))])],1)],1),n("div",{staticClass:"t1_classifyname",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.radioDetail.name))]),n("div",{staticClass:"t1_authorinfo",attrs:{slot:"label"},slot:"label"},[n("div",{staticClass:"t1_authorinfo_author"},[n("van-icon",{attrs:{name:"add-o"}})],1),n("div",{staticClass:"t1_authorinfo_description"},[t._v(t._s(t.radioDetail.rcmdText))])])]),n("div",{staticClass:"t2_prizeinfo"},[n("van-grid",{attrs:{direction:"horizontal","column-num":3}},[n("van-grid-item",{attrs:{"icon-prefix":"toutiao",icon:"shoucang1",text:t._f("shortCount2")(t.radioDetail.subCount),"icon-size":"0.8rem"}}),n("van-grid-item",{attrs:{icon:"comment-o",text:t.radioDetail.programCount+"个节目"}})],1)],1),n("van-cell",{attrs:{mymark2:""}},[n("van-icon",{attrs:{slot:"icon","class-prefix":"toutiao",name:"24gf-playCircle",color:"red",size:"0.74rem"},slot:"icon"}),n("div",{staticStyle:{marginLeft:"0.26rem",fontSize:"0.48rem",fontWeight:"bold"},attrs:{slot:"title"},slot:"title"},[t._v("播放全部")]),n("div",{staticStyle:{display:"flex",alignItems:"center",justifyContent:"flex-end"},attrs:{slot:"default"},slot:"default"},[n("van-icon",{attrs:{"class-prefix":"toutiao",name:"bofang",color:"green",size:"0.74rem"}}),n("van-icon",{attrs:{name:"certificate",size:"0.74rem"}})],1)],1),n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"}},t._l(t.programs,(function(t,e){return n("MusicItem",{key:e,attrs:{trackIndex:e,trackName:t.name,artistName:t.dj.nickname,albumName:t.dj.brand,trackId:t.id}})})),1)],1)},s=[],a=n("1da1"),o=(n("96cf"),n("b680"),n("da13")),i=n("01f3"),c={name:"RadioContent",components:{MusicItem:i["a"]},props:["currentProgramId"],data:function(){return{finished:!0,radioDetail:"",programs:[]}},computed:{avatarUrl:function(){return this.radioDetail.dj.avatarUrl}},filters:{shortCount:function(t){return t>=1e4?Math.floor(t/1e4)+"万":t},shortCount2:function(t){return t>=1e4?(t/1e4).toFixed(1)+"万":t+""}},methods:{onProgramDetail:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["b"])(t.currentProgramId);case 2:n=e.sent,r=n.data,t.radioDetail=r.data;case 5:case"end":return e.stop()}}),e)})))()},onPrograms:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["c"])(t.currentProgramId);case 2:n=e.sent,r=n.data,t.programs=r.programs;case 5:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.onProgramDetail(),this.onPrograms()}},l=c,u=(n("189b"),n("2877")),f=Object(u["a"])(l,r,s,!1,null,"729631ac",null);e["a"]=f.exports},"6e60":function(t,e,n){"use strict";n("fae6")},7156:function(t,e,n){var r=n("861d"),s=n("d2bb");t.exports=function(t,e,n){var a,o;return s&&"function"==typeof(a=e.constructor)&&a!==n&&r(o=a.prototype)&&o!==n.prototype&&s(t,o),t}},"771a":function(t,e,n){"use strict";n("eafe")},"794b":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-container"},[n("form",{attrs:{action:"/"}},[n("van-search",{attrs:{placeholder:"请输入搜索关键词","show-action":""},on:{search:function(e){return t.onSearch(t.searchText)},cancel:function(e){return t.$router.back()},focus:function(e){t.isResultShow=!1}},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1),t.isResultShow?n("SearchResult",{attrs:{searchText:t.searchText}}):t.searchText?n("SearchSuggestion",{attrs:{searchText:t.searchText},on:{search:t.onSearch}}):n("SearchHistory",{attrs:{searchHistories:t.searchHistories},on:{search:t.onSearch,updateHistories:function(e){t.searchHistories=e}}})],1)},s=[],a=n("1da1"),o=n("5530"),i=(n("96cf"),n("c975"),n("a434"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-suggestion"},t._l(t.suggestions,(function(e,r){return n("van-cell",{key:r,attrs:{icon:"search"},on:{click:function(n){return t.$emit("search",e.keyword)}}},[n("div",{attrs:{slot:"title"},domProps:{innerHTML:t._s(t.highlight(e.keyword))},slot:"title"})])})),1)}),c=[],l=(n("ac1f"),n("5319"),n("4d63"),n("25f0"),n("99af"),n("b775")),u=function(t){var e="";return e=t.type?"/search/suggest?keywords=".concat(t.keywords,"&type=").concat(t.type):"/search/suggest?keywords=".concat(t.keywords),Object(l["a"])({method:"GET",url:e})},f=function(t){return console.log("searchquery",t),Object(l["a"])({method:"GET",url:"/search?keywords=".concat(t.keywords,"&type=").concat(t.type,"&limit=").concat(t.limit,"&offset=").concat(t.offset)})},d=n("2ef0"),h={name:"SearchSuggestion",props:["searchText"],data:function(){return{suggestions:[]}},watch:{searchText:{immediate:!0,handler:Object(d["debounce"])(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u({keywords:e,type:"mobile"});case 2:n=t.sent,r=n.data,console.log("sugesstion",r),this.suggestions=r.result.allMatch;case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),200)}},methods:{highlight:function(t){return t.replace(new RegExp(this.searchText,"gi"),'<span style="color:red">'.concat(this.searchText,"</span>"))}}},p=h,m=n("2877"),v=Object(m["a"])(p,i,c,!1,null,null,null),g=v.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-history"},[n("van-cell",{attrs:{title:"搜索历史"}},[t.isDeleteShow?n("div",[n("span",{on:{click:function(e){return t.$emit("updateHistories",[])}}},[t._v("全部删除")]),t._v("   "),n("span",{on:{click:function(e){t.isDeleteShow=!1}}},[t._v("完成")])]):n("van-icon",{attrs:{name:"delete-o"},on:{click:function(e){t.isDeleteShow=!0}}})],1),t._l(t.searchHistories,(function(e,r){return n("van-cell",{key:r,attrs:{title:e},on:{click:function(n){return t.onClick(e,r)}}},[t.isDeleteShow?n("van-icon",{attrs:{name:"close"}}):t._e()],1)}))],2)},y=[],x={name:"SearchHistory",props:["searchHistories"],data:function(){return{isDeleteShow:!1}},methods:{onClick:function(t,e){this.isDeleteShow?this.searchHistories.splice(e,1):this.$emit("search",t)}}},_=x,T=Object(m["a"])(_,b,y,!1,null,null,null),w=T.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-result"},[n("van-tabs",{on:{click:t.onTag},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[n("button",{staticClass:"t0-hold",attrs:{slot:"nav-left",disabled:""},slot:"nav-left"},[t._v("结果")]),t._l(t.resultTags,(function(e,r){return n("van-tab",{key:r,attrs:{title:e.tag}},[n("keep-alive",[n(t.currentComponent,{tag:"component",staticClass:"t1_1-tagcontent",attrs:{searchText:t.searchText}})],1)],1)}))],2)],1)},k=[],C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"resultSong",staticClass:"SearchResultSong-wrap"},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(t,e){return n("MusicItem",{key:e,attrs:{trackIndex:e,trackName:t.name,artistName:t.artists[0].name,albumName:t.album.name,trackId:t.id}})})),1)],1)},R=[],j=n("01f3"),O={name:"SearchResultSong",components:{MusicItem:j["a"]},props:["searchText"],data:function(){return{list:[],loading:!1,finished:!1,offset:0,scrollTop:0}},methods:{onLoad:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f({keywords:t.searchText,type:1,limit:2,offset:t.offset});case 2:n=e.sent,r=n.data,s=r.result.songs,t.list.push(s[0],s[1]),t.loading=!1,s?t.offset+=2:t.finished=!0;case 8:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this,e=this.$refs.resultSong;e.onscroll=Object(d["debounce"])((function(){t.scrollTop=e.scrollTop}),50)},activated:function(){this.$refs.resultSong.scrollTop=this.scrollTop}},I=O,$=(n("e9f2"),Object(m["a"])(I,C,R,!1,null,"5b606be4",null)),E=$.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"resultAlbum"},[n("van-list",{attrs:{finished:t.albumFinished,"finished-text":"没有更多了"},on:{load:t.albumUpload},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.artistAlbums,(function(t,e){return n("AlbumItem",{key:e,attrs:{index:e,albumName:t.name,artistName:t.artist.name,albumCover:t.picUrl,publishTime:t.publishTime,albumSize:t.size}})})),1)],1)},U=[],N=n("2909"),P=n("82bc"),H={name:"SearchResultAlbum",components:{AlbumItem:P["a"]},props:["searchText"],data:function(){return{artistAlbums:[],loading:!1,albumFinished:!1,albumOffset:30,scrollTop:0}},methods:{albumUpload:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f({keywords:t.searchText,type:10,limit:30,offset:t.albumOffset});case 2:r=e.sent,s=r.data,(n=t.artistAlbums).push.apply(n,Object(N["a"])(s.result.albums)),t.loading=!1,s.result.albums?t.albumOffset+=30:t.albumFinished=!0;case 7:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this,e=this.$refs.resultAlbum;e.onscroll=Object(d["debounce"])((function(){t.scrollTop=e.scrollTop}),50)},activated:function(){this.$refs.resultAlbum.scrollTop=this.scrollTop}},M=H,D=Object(m["a"])(M,L,U,!1,null,null,null),z=D.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"resultClassify"},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(t,e){return n("ClassifyListItem",{key:e,attrs:{cover:t.coverImgUrl,classifyName:t.name,classifySize:t.trackCount,creatorName:t.creator.nickname,playCount:t.playCount}})})),1)],1)},G=[],V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-cell",[n("van-image",{attrs:{slot:"icon",width:"1.4rem",height:"1.4rem",radius:"0.133rem",fit:"cover",src:t.cover},slot:"icon"}),n("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.classifyName))]),n("div",{attrs:{slot:"label"},slot:"label"},[n("span",[t._v(t._s(t.classifySize)+"首")]),t._v(", "),n("span",[t._v("by "+t._s(t.creatorName))]),t._v(", "),n("span",[t._v("播放"+t._s(t._f("shortCount")(t.playCount))+"次")])])],1)},F=[],B=(n("b680"),{name:"ClassifyListItem",props:["cover","classifyName","classifySize","creatorName","playCount"],filters:{shortCount:function(t){return t>=1e4?(t/1e4).toFixed(1)+"万":t}}}),J=B,q=(n("2597"),Object(m["a"])(J,V,F,!1,null,"354cb59e",null)),W=q.exports,Y={name:"SearchResultClassify",components:{ClassifyListItem:W},props:["searchText"],data:function(){return{list:[],loading:!1,finished:!1,offset:0,scrollTop:0}},methods:{onLoad:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f({keywords:t.searchText,type:1e3,limit:30,offset:t.offset});case 2:r=e.sent,s=r.data,console.log("classify",s),(n=t.list).push.apply(n,Object(N["a"])(s.result.playlists)),t.loading=!1,s.result.playlists?t.offset+=30:t.finished=!0;case 8:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this,e=this.$refs.resultClassify;e.onscroll=Object(d["debounce"])((function(){t.scrollTop=e.scrollTop}),50)},activated:function(){this.$refs.resultClassify.scrollTop=this.scrollTop}},K=Y,Q=Object(m["a"])(K,A,G,!1,null,"b738f532",null),X=Q.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"resultSong",staticClass:"SearchResultSong-wrap"},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,r){return n("div",{key:r},[n("MusicItem",{attrs:{trackIndex:r,trackName:e.name,artistName:e.artists[0].name,albumName:e.album.name,trackId:e.id}}),n("div",{staticClass:"t1_wrap"},[n("span",[t._v("歌词：")]),n("div",{staticClass:"t1_2_content",class:{t1_2_putaway:t.putaway},domProps:{innerHTML:t._s(e.lyrics.txt)}}),n("button",{on:{click:function(e){t.putaway=!t.putaway}}},[t._v(t._s(t.putStatus))])])],1)})),0)],1)},tt=[],et={name:"SearchResultSong",components:{MusicItem:j["a"]},props:["searchText"],data:function(){return{list:[],loading:!1,finished:!1,offset:0,scrollTop:0,putaway:!0}},computed:{putStatus:function(){return this.putaway?"展开歌词":"收起歌词"}},methods:{onLoad:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f({keywords:t.searchText,type:1006,limit:2,offset:t.offset});case 2:n=e.sent,r=n.data,console.log("lyric",r),s=r.result.songs,t.list.push(s[0],s[1]),t.loading=!1,s?t.offset+=2:t.finished=!0;case 9:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this,e=this.$refs.resultSong;e.onscroll=Object(d["debounce"])((function(){t.scrollTop=e.scrollTop}),50)},activated:function(){this.$refs.resultSong.scrollTop=this.scrollTop}},nt=et,rt=(n("5e6a"),Object(m["a"])(nt,Z,tt,!1,null,"fb0e4b32",null)),st=rt.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"resultMv"},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,r){return n("van-cell",{key:r},[n("van-grid",{attrs:{"column-num":2}},t._l(e,(function(t,e){return n("MvItem",{key:e,attrs:{cover:t.cover,playCount:t.playCount,duration:t.duration,singerName:t.artistName,singerPhoto:t.cover,mvName:t.name,uid:t.artists[0].id,vid:t.id}})})),1)],1)})),1)],1)},ot=[],it=(n("fb6a"),n("f292")),ct={name:"SearchResultMv",components:{MvItem:it["a"]},props:["searchText"],data:function(){return{list:[],loading:!1,finished:!1,offset:0,scrollTop:0}},methods:{onLoad:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f({keywords:t.searchText,type:1004,limit:10,offset:t.offset});case 2:for(n=e.sent,r=n.data,console.log("mv",r),s=0;s<r.result.mvs.length/2;s++)t.list.push(r.result.mvs.slice(2*s,2*(s+1)));t.loading=!1,r.result.mvs?t.offset+=10:t.finished=!0;case 8:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this,e=this.$refs.resultMv;e.onscroll=Object(d["debounce"])((function(){t.scrollTop=e.scrollTop}),50)},activated:function(){this.$refs.resultMv.scrollTop=this.scrollTop}},lt=ct,ut=Object(m["a"])(lt,at,ot,!1,null,"77df9943",null),ft=ut.exports,dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"resultRadio"},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,r){return n("RadioListItem",{key:r,attrs:{picUrl:e.picUrl,programCount:e.programCount,playCount:e.playCount,subCount:e.subCount,name:e.name,rcmdtext:e.rcmdText},nativeOn:{click:function(n){t.currentProgramId=e.id,t.isPopupShow=!0}}})})),1),n("van-popup",{style:{height:"100%"},attrs:{"get-container":"#popup",position:"bottom","close-icon-position":"top-left"},model:{value:t.isPopupShow,callback:function(e){t.isPopupShow=e},expression:"isPopupShow"}},[n("div",{staticStyle:{height:"46px",width:"100%",position:"relative"}},[n("div",{staticStyle:{position:"fixed",top:"0",right:"0",left:"0",zIndex:"2022"}},[n("van-nav-bar",{staticClass:"t5_goback",attrs:{"left-text":"返回","left-arrow":"",border:!1},on:{"click-left":t.getBack}},[n("van-icon",{attrs:{slot:"right",name:"search",size:"18",color:"#fff"},slot:"right"})],1)],1)]),n("transition",{attrs:{name:"fade"}},[t.isPopupShow?n("RadioContent",{attrs:{currentProgramId:t.currentProgramId}}):t._e()],1)],1)],1)},ht=[],pt=n("81a4"),mt=n("6e08"),vt={name:"SearchResultRadio",components:{RadioListItem:pt["a"],RadioContent:mt["a"]},props:["searchText"],data:function(){return{list:[],loading:!1,finished:!1,offset:0,scrollTop:0,currentProgramId:0,isPopupShow:!1}},methods:{onLoad:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f({keywords:t.searchText,type:1009,limit:10,offset:t.offset});case 2:r=e.sent,s=r.data,console.log("radio",s),(n=t.list).push.apply(n,Object(N["a"])(s.result.djRadios)),t.finished=!0;case 7:case"end":return e.stop()}}),e)})))()},getBack:function(){this.isPopupShow=!1,this.$store.commit("setPlayerBottom","1.2rem")}},mounted:function(){var t=this,e=this.$refs.resultRadio;e.onscroll=Object(d["debounce"])((function(){t.scrollTop=e.scrollTop}),50)},activated:function(){this.$refs.resultRadio.scrollTop=this.scrollTop}},gt=vt,bt=(n("102f"),Object(m["a"])(gt,dt,ht,!1,null,"1d51aa64",null)),yt=bt.exports,xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"resultSinger"},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(t,e){return n("SingerListItem",{key:e,attrs:{photoUrl:t.picUrl,singerName:t.name}})})),1)],1)},_t=[],Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-cell",[n("van-image",{attrs:{slot:"icon",round:"",width:"1.6rem",height:"1.6rem",fit:"cover",src:t.photoUrl},slot:"icon"}),n("div",{staticClass:"t1_name",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.singerName))]),n("van-button",{attrs:{slot:"default",round:"",size:"small",icon:"plus",plain:"",type:"danger"},slot:"default"},[t._v("关注")])],1)},wt=[],St={name:"SingerListItem",props:["photoUrl","singerName"]},kt=St,Ct=(n("64b0"),Object(m["a"])(kt,Tt,wt,!1,null,"618559b2",null)),Rt=Ct.exports,jt={name:"SearchResultSinger",components:{SingerListItem:Rt},props:["searchText"],data:function(){return{list:[],loading:!1,finished:!1,offset:0,scrollTop:0}},methods:{onLoad:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f({keywords:t.searchText,type:100,limit:20,offset:t.offset});case 2:r=e.sent,s=r.data,console.log("singer",s),(n=t.list).push.apply(n,Object(N["a"])(s.result.artists)),t.loading=!1,s.result.artists?t.offset+=20:t.finished=!0;case 8:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this,e=this.$refs.resultSinger;e.onscroll=Object(d["debounce"])((function(){t.scrollTop=e.scrollTop}),50)},activated:function(){this.$refs.resultSinger.scrollTop=this.scrollTop}},Ot=jt,It=(n("054b"),Object(m["a"])(Ot,xt,_t,!1,null,"9a852d22",null)),$t=It.exports,Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"resultSinger"},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(t,e){return n("UserListItem",{key:e,attrs:{photoUrl:t.avatarUrl,singerName:t.nickname}})})),1)],1)},Lt=[],Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-cell",[n("van-image",{attrs:{slot:"icon",round:"",width:"1.6rem",height:"1.6rem",fit:"cover",src:t.photoUrl},slot:"icon"}),n("div",{staticClass:"t1_name",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.singerName))]),n("van-button",{attrs:{slot:"default",round:"",size:"small",icon:"plus",plain:"",type:"danger"},slot:"default"},[t._v("关注")])],1)},Nt=[],Pt={name:"UserListItem",props:["photoUrl","singerName"]},Ht=Pt,Mt=(n("771a"),Object(m["a"])(Ht,Ut,Nt,!1,null,"8d1629e0",null)),Dt=Mt.exports,zt={name:"SearchResultUser",components:{UserListItem:Dt},props:["searchText"],data:function(){return{list:[],loading:!1,finished:!1,offset:0,scrollTop:0}},methods:{onLoad:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f({keywords:t.searchText,type:1002,limit:20,offset:t.offset});case 2:r=e.sent,s=r.data,(n=t.list).push.apply(n,Object(N["a"])(s.result.userprofiles)),t.loading=!1,s.result.artists?t.offset+=20:t.finished=!0;case 7:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this,e=this.$refs.resultSinger;e.onscroll=Object(d["debounce"])((function(){t.scrollTop=e.scrollTop}),50)},activated:function(){this.$refs.resultSinger.scrollTop=this.scrollTop}},At=zt,Gt=(n("6e60"),Object(m["a"])(At,Et,Lt,!1,null,"6920ebb8",null)),Vt=Gt.exports,Ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"resultVedio"},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,r){return n("div",{key:r},[e.playUrl?n("VedioListItem",{key:r,attrs:{userId:e.creator[0].userId,userName:e.creator[0].userName,vedioTitle:e.title,playUrl:e.playUrl,playCount:e.playTime,duration:e.durationms,scrollTop:t.scrollTop,vid:e.vid}}):t._e()],1)})),0)],1)},Bt=[],Jt=n("b3aa"),qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-cell",{ref:"vedioCell"},[n("div",{staticClass:"t0_user"},[n("van-image",{attrs:{width:"1rem",height:"1rem",fit:"cover",round:"",src:t.creatorInfo.avatarUrl}}),n("span",{staticClass:"t0_0_name"},[t._v(t._s(t.userName))])],1),n("div",{staticClass:"t1_title"},[t._v(t._s(t.vedioTitle))]),n("video",{ref:"vedioPlayer",staticClass:"t2_cover",attrs:{muted:""},domProps:{muted:!0},on:{click:function(e){return t.$router.push("/vplay/0/"+t.vid+"/"+t.userId+"/"+t.vedioTitle)}}},[n("source",{attrs:{src:t.playUrl,type:"video/mp4"}}),n("source",{attrs:{src:t.playUrl,type:"video/ogg"}}),t._v(" 您的浏览器不支持 HTML5 video 标签。 ")]),n("div",{staticClass:"t3_wrap"},[n("span",[t._v("播放"+t._s(t._f("shortCount")(t.playCount))+"次")]),n("span",[t._v(t._s(t._f("formatTime")(t.duration)))])])])},Wt=[],Yt=n("c24f"),Kt=n("5a0c"),Qt=n.n(Kt),Xt={name:"VedioListItem",props:["scrollTop","vid","userId","userName","vedioTitle","playUrl","playCount","duration"],data:function(){return{creatorInfo:""}},watch:{scrollTop:function(){this.$refs.vedioCell.offsetTop-this.scrollTop<128&&this.$refs.vedioCell.offsetTop-this.scrollTop>-128?this.$refs.vedioPlayer.play():this.$refs.vedioPlayer.pause()}},filters:{shortCount:function(t){return t>=1e4?(t/1e4).toFixed(1)+"万":t},formatTime:function(t){return Qt()(t).format("mm:ss")}},mounted:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Yt["d"])(t.userId);case 2:n=e.sent,r=n.data,t.creatorInfo=r.profile;case 5:case"end":return e.stop()}}),e)})))()}},Zt=Xt,te=(n("319d"),Object(m["a"])(Zt,qt,Wt,!1,null,"2b5db7ac",null)),ee=te.exports,ne={name:"SearchResultVedio",components:{VedioListItem:ee},props:["searchText"],data:function(){return{list:[],loading:!1,finished:!1,offset:0,scrollTop:0}},methods:{onLoad:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r,s,a,o,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f({keywords:t.searchText,type:1014,limit:10,offset:t.offset});case 2:r=e.sent,s=r.data,a=s.result.videos,o=0;case 6:if(!(o<a.length)){e.next=15;break}return e.next=9,Object(Jt["c"])(a[o].vid);case 9:i=e.sent,c=i.data,c.urls.length?a[o].playUrl=c.urls[0].url:a[o].playUrl="";case 12:o++,e.next=6;break;case 15:(n=t.list).push.apply(n,Object(N["a"])(a)),t.loading=!1,a.length?t.offset+=10:t.finished=!0;case 18:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this,e=this.$refs.resultVedio;e.onscroll=Object(d["debounce"])((function(){t.scrollTop=e.scrollTop}),50)},activated:function(){this.$refs.resultVedio.scrollTop=this.scrollTop}},re=ne,se=(n("132f"),Object(m["a"])(re,Ft,Bt,!1,null,"0ffbdd46",null)),ae=se.exports,oe={name:"SearchResult",components:{SearchResultSong:E,SearchResultAlbum:z,SearchResultClassify:X,SearchResultLyric:st,SearchResultMv:ft,SearchResultRadio:yt,SearchResultSinger:$t,SearchResultUser:Vt,SearchResultVedio:ae},props:["searchText"],data:function(){return{resultTags:[{tag:"单曲",component:"SearchResultSong"},{tag:"专辑",component:"SearchResultAlbum"},{tag:"歌手",component:"SearchResultSinger"},{tag:"歌单",component:"SearchResultClassify"},{tag:"用户",component:"SearchResultUser"},{tag:"MV",component:"SearchResultMv"},{tag:"歌词",component:"SearchResultLyric"},{tag:"电台",component:"SearchResultRadio"},{tag:"视频",component:"SearchResultVedio"}],active:0,currentComponent:"SearchResultSong"}},methods:{onTag:function(t){this.currentComponent=this.resultTags[t].component}}},ie=oe,ce=(n("422e"),Object(m["a"])(ie,S,k,!1,null,"30bf08fc",null)),le=ce.exports,ue=n("5d2d"),fe=n("2f62"),de={name:"Search",components:{SearchSuggestion:g,SearchHistory:w,SearchResult:le},data:function(){return{searchText:"",isResultShow:!1,searchHistories:[]}},computed:Object(o["a"])({},Object(fe["c"])(["user"])),watch:{searchHistories:function(){Object(ue["c"])("searchHistories",this.searchHistories)}},methods:{onSearch:function(t){this.searchText=t;var e=this.searchHistories.indexOf(t);e>-1&&this.searchHistories.splice(e,1),this.searchHistories.unshift(t),this.isResultShow=!0},onCancel:function(){console.log("onCancel事件")},loadSearchHistories:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Object(ue["a"])("searchHistories")||[],t.searchHistories=n;case 2:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.$store.commit("addCachePages","Search")},created:function(){this.loadSearchHistories()}},he=de,pe=Object(m["a"])(he,r,s,!1,null,"0e5781b0",null);e["default"]=pe.exports},"81a4":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-cell",[n("div",{staticClass:"t0-wrap",attrs:{slot:"icon"},slot:"icon"},[n("van-image",{attrs:{src:t.picUrl,width:"80",height:"80",radius:"5",fit:"cover"}}),n("div",{staticClass:"t0_2-wrap"},[n("van-icon",{attrs:{"class-prefix":"toutiao",name:"bofang"}}),n("span",{staticClass:"t0_2-"},[t._v(t._s(t._f("short")(t.playCount)))])],1),n("div",{staticClass:"t0_3-wrap"},[n("van-icon",{attrs:{"class-prefix":"toutiao",name:"shoucang2"}}),n("span",[t._v(t._s(t._f("short")(t.subCount)))])],1)],1),n("div",{staticClass:"t1-name",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.name))]),n("span",{staticClass:"t1_2-programcount",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.programCount)+" 个节目")]),n("div",{staticClass:"t2-label",attrs:{slot:"label"},slot:"label"},[t._v(t._s(t.rcmdtext))])])},s=[],a=(n("b680"),{name:"RadioListItem",props:["picUrl","programCount","playCount","subCount","name","rcmdtext"],filters:{short:function(t){return t>=1e4?(t/1e4).toFixed(1)+"万":t}}}),o=a,i=(n("6bbb"),n("2877")),c=Object(i["a"])(o,r,s,!1,null,"24d495c6",null);e["a"]=c.exports},"8bb4":function(t,e,n){},"914c":function(t,e,n){},9669:function(t,e,n){},a11d:function(t,e,n){},aad7:function(t,e,n){},b3aa:function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o}));n("99af");var r=n("b775"),s=function(t){return Object(r["a"])({method:"GET",url:"/video/url?id=".concat(t)})},a=function(t){return Object(r["a"])({method:"GET",url:"/video/group?id=".concat(t.id,"&offset=").concat(t.offset)})},o=function(t){return Object(r["a"])({method:"GET",url:"/video/detail/info?vid=".concat(t)})}},c24f:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"i",(function(){return i})),n.d(e,"g",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"f",(function(){return u})),n.d(e,"h",(function(){return f}));n("99af");var r=n("b775"),s=function(t){return Object(r["a"])({method:"GET",url:"/cellphone/existence/check?phone=".concat(t)})},a=function(t){return Object(r["a"])({method:"GET",url:"/captcha/sent?phone=".concat(t)})},o=function(t){return Object(r["a"])({method:"GET",url:"/captcha/verify?phone=".concat(t.phone,"&captcha=").concat(t.captcha)})},i=function(t){return Object(r["a"])({method:"GET",url:"/register/cellphone?phone=".concat(t.phone,"&password=").concat(t.password,"&captcha=").concat(t.captcha,"&nickname=").concat(t.nickname)})},c=function(t){return Object(r["a"])({method:"GET",url:"/login/cellphone?phone=".concat(t.phone,"&password=").concat(t.password)})},l=function(t){return Object(r["a"])({method:"GET",url:"/user/detail?uid=".concat(t)})},u=function(t){return Object(r["a"])({method:"GET",url:"/user/follows?uid=".concat(t)})},f=function(t){return Object(r["a"])({method:"GET",url:"/comment?t=".concat(t.t,"&type=").concat(t.type,"&id=").concat(t.id,"&content=").concat(t.content)})}},c542:function(t,e,n){},da13:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i}));var r=n("b775"),s=function(){return Object(r["a"])({method:"GET",url:"/dj/hot"})},a=function(){return Object(r["a"])({method:"GET",url:"/dj/catelist"})},o=function(t){return Object(r["a"])({method:"GET",url:"/dj/detail?rid=".concat(t)})},i=function(t){return Object(r["a"])({method:"GET",url:"/dj/program?rid=".concat(t)})}},e9f2:function(t,e,n){"use strict";n("9669")},eafe:function(t,e,n){},fae6:function(t,e,n){}}]);
//# sourceMappingURL=chunk-4d464ac4.0dcdd364.js.map