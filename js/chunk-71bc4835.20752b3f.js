(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71bc4835"],{1276:function(t,e,n){"use strict";var r=n("d784"),u=n("44e7"),a=n("825a"),o=n("1d80"),i=n("4840"),c=n("8aa5"),s=n("50c4"),l=n("577e"),p=n("14c3"),d=n("9263"),f=n("9f7f"),h=n("d039"),m=f.UNSUPPORTED_Y,v=[].push,g=Math.min,b=4294967295,j=!h((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));r("split",(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=l(o(this)),a=void 0===n?b:n>>>0;if(0===a)return[];if(void 0===t)return[r];if(!u(t))return e.call(r,t,a);var i,c,s,p=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,m=new RegExp(t.source,f+"g");while(i=d.call(m,r)){if(c=m.lastIndex,c>h&&(p.push(r.slice(h,i.index)),i.length>1&&i.index<r.length&&v.apply(p,i.slice(1)),s=i[0].length,h=c,p.length>=a))break;m.lastIndex===i.index&&m.lastIndex++}return h===r.length?!s&&m.test("")||p.push(""):p.push(r.slice(h)),p.length>a?p.slice(0,a):p}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var u=o(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,u,n):r.call(l(u),e,n)},function(t,u){var o=a(this),d=l(t),f=n(r,o,d,u,r!==e);if(f.done)return f.value;var h=i(o,RegExp),v=o.unicode,j=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(m?"g":"y"),w=new h(m?"^(?:"+o.source+")":o,j),O=void 0===u?b:u>>>0;if(0===O)return[];if(0===d.length)return null===p(w,d)?[d]:[];var x=0,N=0,y=[];while(N<d.length){w.lastIndex=m?0:N;var k,C=p(w,m?d.slice(N):d);if(null===C||(k=g(s(w.lastIndex+(m?N:0)),d.length))===x)N=c(d,N,v);else{if(y.push(d.slice(x,N)),y.length===O)return y;for(var S=1;S<=C.length-1;S++)if(y.push(C[S]),y.length===O)return y;N=x=k}}return y.push(d.slice(x)),y}]}),!j,m)},"8cc1":function(t,e,n){},"9c1d":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{staticClass:"app-nav-bar",attrs:{title:"手机验证码","left-arrow":""},on:{"click-left":function(e){return t.$router.back()}}}),n("div",{staticClass:"tips"},[n("p",[t._v("你的手机号是86-"+t._s(t._f("toPrivacy")(this.$store.state.user.phone)))]),n("p",[t._v("你会收到一条带有验证码的短信，请输入验证码")])]),n("div",{staticClass:"number-input",attrs:{id:"my-vcode"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.fourNumerObj.input1,expression:"fourNumerObj.input1"}],attrs:{type:"tel",maxlength:"1",id:"input1"},domProps:{value:t.fourNumerObj.input1},on:{input:[function(e){e.target.composing||t.$set(t.fourNumerObj,"input1",e.target.value)},function(e){return t.getNextFocus(1)}]}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.fourNumerObj.input2,expression:"fourNumerObj.input2"}],attrs:{type:"tel",maxlength:"1",id:"input2"},domProps:{value:t.fourNumerObj.input2},on:{input:[function(e){e.target.composing||t.$set(t.fourNumerObj,"input2",e.target.value)},function(e){return t.getNextFocus(2)}]}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.fourNumerObj.input3,expression:"fourNumerObj.input3"}],attrs:{type:"tel",maxlength:"1",id:"input3"},domProps:{value:t.fourNumerObj.input3},on:{input:[function(e){e.target.composing||t.$set(t.fourNumerObj,"input3",e.target.value)},function(e){return t.getNextFocus(3)}]}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.fourNumerObj.input4,expression:"fourNumerObj.input4"}],attrs:{type:"tel",maxlength:"1",id:"input4"},domProps:{value:t.fourNumerObj.input4},on:{input:function(e){e.target.composing||t.$set(t.fourNumerObj,"input4",e.target.value)}}})]),n("div",{staticClass:"reSendCaptcha"},[t.isCountDownShow?n("van-count-down",{attrs:{time:1e4,format:"ss s后可再次发送验证码"},on:{finish:function(e){t.isCountDownShow=!1}}}):n("van-button",{staticClass:"send-btn",attrs:{size:"small",round:"",loading:t.isSendSmsLoading},on:{click:t.onCaptcha}},[t._v("发送验证码")])],1),n("div",{staticClass:"login-btn-wraper"},[n("van-button",{staticClass:"login-btn",attrs:{type:"info",block:""},on:{click:t.onCheckCaptcha}},[t._v("下一步")])],1)],1)},u=[],a=n("1da1"),o=(n("96cf"),n("a15b"),n("d81d"),n("ac1f"),n("1276"),n("c24f")),i={name:"Captcha",data:function(){return{fourNumerObj:{input1:"",input2:"",input3:"",input4:""},isCountDownShow:!0,isSendSmsLoading:!1}},computed:{captcha:function(){return this.fourNumerObj.input1+this.fourNumerObj.input2+this.fourNumerObj.input3+this.fourNumerObj.input4}},mounted:function(){for(var t=document.getElementById("my-vcode"),e=t.getElementsByTagName("input"),n=function(t){e[t].addEventListener("keydown",(function(n){var r=n||window.event;""===e[t].value&&8===r.keyCode&&0!==t&&e[t-1].focus()}))},r=0;r<e.length;r++)n(r)},filters:{toPrivacy:function(t){return t.split("").map((function(t,e){return e>2&&e<7?"*":t})).join("")}},methods:{getNextFocus:function(t){var e=document.getElementById("input"+t),n=document.getElementById("input"+(t+1));!t||!e.value&&0!==e.value||n.value||0===n.value||n.focus()},onCaptcha:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isSendSmsLoading=!0,e.next=4,Object(o["c"])(t.$store.state.user.phone);case 4:if(n=e.sent,r=n.data,console.log(r),200===r.code){e.next=11;break}return t.$toast.fail(r.message),t.isSendSmsLoading=!1,e.abrupt("return");case 11:t.isSendSmsLoading=!1,t.isCountDownShow=!0,e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](0),t.$toast.fail("发送验证码失败，请稍后再试"),t.isSendSmsLoading=!1;case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))()},onCheckCaptcha:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["a"])({phone:t.$store.state.user.phone,captcha:t.captcha});case 3:n=e.sent,r=n.data,console.log(r),t.$store.state.user.captcha=t.captcha,t.$router.push("/nickname"),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),t.$toast.fail("验证码错误");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}}},c=i,s=(n("c3f9"),n("2877")),l=Object(s["a"])(c,r,u,!1,null,"47824279",null);e["default"]=l.exports},a15b:function(t,e,n){"use strict";var r=n("23e7"),u=n("44ad"),a=n("fc6a"),o=n("a640"),i=[].join,c=u!=Object,s=o("join",",");r({target:"Array",proto:!0,forced:c||!s},{join:function(t){return i.call(a(this),void 0===t?",":t)}})},c24f:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"i",(function(){return i})),n.d(e,"g",(function(){return c})),n.d(e,"d",(function(){return s})),n.d(e,"f",(function(){return l})),n.d(e,"h",(function(){return p}));n("99af");var r=n("b775"),u=function(t){return Object(r["a"])({method:"GET",url:"/cellphone/existence/check?phone=".concat(t)})},a=function(t){return Object(r["a"])({method:"GET",url:"/captcha/sent?phone=".concat(t)})},o=function(t){return Object(r["a"])({method:"GET",url:"/captcha/verify?phone=".concat(t.phone,"&captcha=").concat(t.captcha)})},i=function(t){return Object(r["a"])({method:"GET",url:"/register/cellphone?phone=".concat(t.phone,"&password=").concat(t.password,"&captcha=").concat(t.captcha,"&nickname=").concat(t.nickname)})},c=function(t){return Object(r["a"])({method:"GET",url:"/login/cellphone?phone=".concat(t.phone,"&password=").concat(t.password)})},s=function(t){return Object(r["a"])({method:"GET",url:"/user/detail?uid=".concat(t)})},l=function(t){return Object(r["a"])({method:"GET",url:"/user/follows?uid=".concat(t)})},p=function(t){return Object(r["a"])({method:"GET",url:"/comment?t=".concat(t.t,"&type=").concat(t.type,"&id=").concat(t.id,"&content=").concat(t.content)})}},c3f9:function(t,e,n){"use strict";n("8cc1")},d81d:function(t,e,n){"use strict";var r=n("23e7"),u=n("b727").map,a=n("1dde"),o=a("map");r({target:"Array",proto:!0,forced:!o},{map:function(t){return u(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-71bc4835.20752b3f.js.map